# Activer le module rewrite
RewriteEngine On

# Rediriger les requêtes API vers le serveur Flask
RewriteCond %{REQUEST_URI} ^/api/rhscrap/
RewriteRule ^api/rhscrap/(.*)$ http://localhost:5000/api/rhscrap/$1 [P,L]

# Permettre l'accès aux fichiers de résultats
<Directory "results">
    Options +Indexes
    AllowOverride None
    Require all granted
</Directory>

# Protéger les fichiers Python
<FilesMatch "\.py$">
    Require all denied
</FilesMatch>

# Headers pour CORS
Header set Access-Control-Allow-Origin "*"
Header set Access-Control-Allow-Methods "GET, POST, OPTIONS"
Header set Access-Control-Allow-Headers "Content-Type" 
